# Blog Backend (TypeScript)

ูพุฑูฺู ูพุงู Node.js ุจุฑุง ุจฺฉโุงูุฏ ูุจูุงฺฏ ุจุง ุงุณุชูุงุฏู ุงุฒ Express.js ู TypeScript

## ๐ ููุฑุณุช ูุทุงูุจ
- [ุชูุถุญุงุช ูพุฑูฺู](#ุชูุถุญุงุช-ูพุฑูฺู)
- [ูฺฺฏโูุง](#ูฺฺฏูุง)
- [ุดุฑูุน ุณุฑุน](#ุดุฑูุน-ุณุฑุน)
- [ูุชุบุฑูุง ูุญุท](#ูุชุบุฑูุง-ูุญุท)
- [ุณุงุฎุชุงุฑ ูพุฑูฺู](#ุณุงุฎุชุงุฑ-ูพุฑูฺู)
- [ูุณุฑูุง API](#ูุณุฑูุง-api)
  - [ุงุญุฑุงุฒ ููุช](#ุงุญุฑุงุฒ-ููุช)
  - [ฺฉุงุฑุจุฑุงู](#ฺฉุงุฑุจุฑุงู)
  - [ูพุณุชโูุง](#ูพุณุชูุง)
  - [ูุธุฑุงุช](#ูุธุฑุงุช)
  - [ุฏุณุชูโุจูุฏโูุง](#ุฏุณุชูุจูุฏูุง)
  - [ุจุฑฺุณุจโูุง](#ุจุฑฺุณุจูุง)
  - [ุขูุงูุฒ](#ุขูุงูุฒ)
  - [ูพูู ุงุฏูู](#ูพูู-ุงุฏูู)
- [ููููู ุงุณุชูุงุฏู](#ููููู-ุงุณุชูุงุฏู)
- [ฺฉุฏูุง ูุถุนุช HTTP](#ฺฉุฏูุง-ูุถุนุช-http)
- [ูุฌูุฒ](#ูุฌูุฒ)

## ุชูุถุญุงุช ูพุฑูฺู

ุงู ูพุฑูฺู ฺฉ ุจฺฉโุงูุฏ ุณุงุฏู ู ูุฏุฑุชููุฏ ุจุฑุง ูุจูุงฺฏ ุงุณุช ฺฉู ุจุง ุงุณุชูุงุฏู ุงุฒ Node.jsุ Express.js ู TypeScript ุชูุณุนู ุงูุชู ุงุณุช. ุงู ูพุฑูฺู ุดุงูู ุงูฺฉุงูุงุช ูุงููุฏ ูุฏุฑุช ฺฉุงุฑุจุฑุงูุ ุงุญุฑุงุฒ ููุชุ ูุฏุฑุช ูพุณุชโูุงุ ุฏุณุชูโุจูุฏโูุงุ ุจุฑฺุณุจโูุงุ ูุธุฑุงุชุ ู ุขูุงูุฒ ุจุงุฒุฏุฏูุง ูโุจุงุดุฏ. ููฺูู ุงุฒ MongoDB ุจู ุนููุงู ุฏุชุงุจุณ ุงุณุชูุงุฏู ูโฺฉูุฏ ู ูุงุจูุช ุงุฑุณุงู ุงูู ู ุขูพููุฏ ูุงูโูุง ุฑุง ุฏุงุฑุฏ.

## ูฺฺฏโูุง

- โ ุงุญุฑุงุฒ ููุช ุจุง JWT
- โ ูุฏุฑุช ฺฉุงุฑุจุฑุงู ู ูพุฑููุงูโูุง
- โ ูุฏุฑุช ูพุณุชโูุงุ ุฏุณุชูโุจูุฏโูุง ู ุจุฑฺุณุจโูุง
- โ ูุฏุฑุช ูุธุฑุงุช ฺฉุงุฑุจุฑุงู
- โ ุขูุงูุฒ ุจุงุฒุฏุฏ ุตูุญุงุช
- โ ุงุชุตุงู ุจู MongoDB
- โ ุงุฑุณุงู ุงูู ุจุง SMTP
- โ ุขูพููุฏ ูุงูโูุง ุจู ูุถุง ุงุจุฑ
- โ ุงุณุชูุงุฏู ุงุฒ TypeScript ุจุฑุง ฺฉุฏููุณ ุงูู

## ุดุฑูุน ุณุฑุน

1. ูุตุจ ูุงุจุณุชฺฏโูุง:
   ```bash
   npm install
   ```
2. ุงุฌุฑุง ูพุฑูฺู ุฏุฑ ุญุงูุช ุชูุณุนู:
   ```bash
   npm run dev
   ```
3. ุจูุฏ ู ุงุฌุฑุง ูพุฑูฺู:
   ```bash
   npm run build
   npm start
   ```

## ูุชุบุฑูุง ูุญุท

ุจุฑุง ุงุฌุฑุง ูพุฑูฺูุ ฺฉ ูุงู `.env` ุฏุฑ ุฑุดู ูพุฑูฺู ุจุณุงุฒุฏ:

| ูุชุบุฑ | ุชูุถุญ | ููููู |
|-------|--------|--------|
| `PORT` | ูพูุฑุช ุณุฑูุฑ | `3000` |
| `MONGODB_URI` | ุขุฏุฑุณ MongoDB | `mongodb://localhost:27017/blog` |
| `JWT_SECRET` | ฺฉูุฏ JWT | `your-secret-key` |
| `SMTP_HOST` | ุณุฑูุฑ SMTP | `smtp.gmail.com` |
| `SMTP_PORT` | ูพูุฑุช SMTP | `587` |
| `SMTP_USER` | ุงูู SMTP | `your-email@gmail.com` |
| `SMTP_PASS` | ุฑูุฒ SMTP | `your-password` |
| `CLOUD_ACCESS_KEY` | ฺฉูุฏ ุฏุณุชุฑุณ ุงุจุฑ | `your-access-key` |
| `CLOUD_SECRET_KEY` | ฺฉูุฏ ูุฎู ุงุจุฑ | `your-secret-key` |
| `CLOUD_ENDPOINT` | ุขุฏุฑุณ endpoint | `s3.amazonaws.com` |
| `CLOUD_REGION` | ููุทูู | `us-east-1` |
| `CLOUD_BUCKET_NAME` | ูุงู ุจุงฺฉุช | `your-bucket-name` |

## ุณุงุฎุชุงุฑ ูพุฑูฺู

```
src/
โโโ app.ts              # ููุทู ุดุฑูุน ุจุฑูุงูู
โโโ routes/             # ูุณุฑูุง API
โโโ controllers/        # ููุทู ฺฉุณุจโูฺฉุงุฑ
โโโ models/             # ูุฏูโูุง ุฏุงุฏู
โโโ middleware/         # ูุฏููุฑูุง
โโโ utils/              # ุชูุงุจุน ฺฉูฺฉ
โโโ validators/         # ุงุนุชุจุงุฑุณูุฌ ุฏุงุฏูโูุง
โโโ types/              # ุชุนุงุฑู TypeScript
```

## ูุณุฑูุง API

### ุงุญุฑุงุฒ ููุช
| ูุชุฏ | ูุณุฑ | ุชูุถุญ | ูุงุฒ ุจู ุงุญุฑุงุฒ ููุช |
|-----|------|--------|-------------------|
| `POST` | `/api/auth/register` | ุซุจุชโูุงู ฺฉุงุฑุจุฑ ุฌุฏุฏ | โ |
| `POST` | `/api/auth/login` | ูุฑูุฏ ฺฉุงุฑุจุฑ | โ |
| `POST` | `/api/auth/logout` | ุฎุฑูุฌ ฺฉุงุฑุจุฑ | โ |
| `POST` | `/api/auth/verify-email` | ุชุงุฏ ุงูู | โ |

### ฺฉุงุฑุจุฑุงู
| ูุชุฏ | ูุณุฑ | ุชูุถุญ | ูุงุฒ ุจู ุงุญุฑุงุฒ ููุช |
|-----|------|--------|-------------------|
| `GET` | `/api/users/profile` | ุฏุฑุงูุช ูพุฑููุงู ฺฉุงุฑุจุฑ | โ |
| `PUT` | `/api/users/profile` | ูุฑุงุด ูพุฑููุงู | โ |
| `PUT` | `/api/users/avatar` | ุขูพููุฏ ุขูุงุชุงุฑ | โ |

### ูพุณุชโูุง
| ูุชุฏ | ูุณุฑ | ุชูุถุญ | ูุงุฒ ุจู ุงุญุฑุงุฒ ููุช |
|-----|------|--------|-------------------|
| `GET` | `/api/posts` | ุฏุฑุงูุช ููู ูพุณุชโูุง | โ |
| `GET` | `/api/posts/:id` | ุฏุฑุงูุช ฺฉ ูพุณุช ุฎุงุต | โ |
| `POST` | `/api/posts` | ุงุฌุงุฏ ูพุณุช ุฌุฏุฏ | โ (ุงุฏูู) |
| `PUT` | `/api/posts/:id` | ูุฑุงุด ูพุณุช | โ (ุงุฏูู) |
| `DELETE` | `/api/posts/:id` | ุญุฐู ูพุณุช | โ (ุงุฏูู) |

### ูุธุฑุงุช
| ูุชุฏ | ูุณุฑ | ุชูุถุญ | ูุงุฒ ุจู ุงุญุฑุงุฒ ููุช |
|-----|------|--------|-------------------|
| `GET` | `/api/comments/:id` | ุฏุฑุงูุช ูุธุฑุงุช ฺฉ ูพุณุช | โ |
| `POST` | `/api/comments/:id` | ุงูุฒูุฏู ูุธุฑ ุจู ูพุณุช | โ |
| `DELETE` | `/api/comments/:id` | ุญุฐู ูุธุฑ | โ |
| `PUT` | `/api/comments/accept/:id` | ุชุงุฏ ูุธุฑ | โ (ุงุฏูู) |

### ุฏุณุชูโุจูุฏโูุง
| ูุชุฏ | ูุณุฑ | ุชูุถุญ | ูุงุฒ ุจู ุงุญุฑุงุฒ ููุช |
|-----|------|--------|-------------------|
| `GET` | `/api/categories` | ุฏุฑุงูุช ููู ุฏุณุชูโุจูุฏโูุง | โ |
| `GET` | `/api/categories/:id` | ุฏุฑุงูุช ฺฉ ุฏุณุชูโุจูุฏ | โ |
| `POST` | `/api/categories` | ุงุฌุงุฏ ุฏุณุชูโุจูุฏ ุฌุฏุฏ | โ (ุงุฏูู) |
| `PUT` | `/api/categories/:id` | ูุฑุงุด ุฏุณุชูโุจูุฏ | โ (ุงุฏูู) |
| `DELETE` | `/api/categories/:id` | ุญุฐู ุฏุณุชูโุจูุฏ | โ (ุงุฏูู) |
| `GET` | `/api/categories/categories-posts` | ูพุณุชโูุง ูุฑ ุฏุณุชูโุจูุฏ | โ |

### ุจุฑฺุณุจโูุง
| ูุชุฏ | ูุณุฑ | ุชูุถุญ | ูุงุฒ ุจู ุงุญุฑุงุฒ ููุช |
|-----|------|--------|-------------------|
| `GET` | `/api/tags` | ุฏุฑุงูุช ููู ุจุฑฺุณุจโูุง | โ |
| `GET` | `/api/tags/:id` | ุฏุฑุงูุช ฺฉ ุจุฑฺุณุจ | โ |
| `POST` | `/api/tags` | ุงุฌุงุฏ ุจุฑฺุณุจ ุฌุฏุฏ | โ (ุงุฏูู) |
| `PUT` | `/api/tags/:id` | ูุฑุงุด ุจุฑฺุณุจ | โ (ุงุฏูู) |
| `DELETE` | `/api/tags/:id` | ุญุฐู ุจุฑฺุณุจ | โ (ุงุฏูู) |

### ุขูุงูุฒ
| ูุชุฏ | ูุณุฑ | ุชูุถุญ | ูุงุฒ ุจู ุงุญุฑุงุฒ ููุช |
|-----|------|--------|-------------------|
| `POST` | `/api/analytics/page-view` | ุซุจุช ุจุงุฒุฏุฏ ุตูุญู | โ |
| `GET` | `/api/analytics/page-view` | ุขูุงุฑ ุจุงุฒุฏุฏูุง | โ (ุงุฏูู) |

### ูพูู ุงุฏูู
| ูุชุฏ | ูุณุฑ | ุชูุถุญ | ูุงุฒ ุจู ุงุญุฑุงุฒ ููุช |
|-----|------|--------|-------------------|
| `GET` | `/api/admin/users` | ูุณุช ููู ฺฉุงุฑุจุฑุงู | โ (ุงุฏูู) |
| `GET` | `/api/admin/posts` | ูุณุช ูพุณุชโูุง ุจุง ุฌุณุชุฌู | โ (ุงุฏูู) |
| `GET` | `/api/admin/comments` | ูุณุช ููู ูุธุฑุงุช | โ (ุงุฏูู) |
| `GET` | `/api/admin/dashboard` | ุงุทูุงุนุงุช ุขูุงุฑ | โ (ุงุฏูู) |

## ููููู ุงุณุชูุงุฏู

### ุซุจุชโูุงู ฺฉุงุฑุจุฑ ุฌุฏุฏ
```bash
curl -X POST http://localhost:3000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "user@example.com",
    "password": "password123",
    "firstName": "John",
    "lastName": "Doe"
  }'
```

### ุฏุฑุงูุช ููู ูพุณุชโูุง
```bash
curl http://localhost:3000/api/posts
```

### ุงุฌุงุฏ ูพุณุช ุฌุฏุฏ (ูุงุฒ ุจู ุชูฺฉู)
```bash
curl -X POST http://localhost:3000/api/posts \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "ุนููุงู ูพุณุช",
    "content": "ูุญุชูุง ูพุณุช",
    "category": "category-id",
    "tags": ["tag1", "tag2"]
  }'
```

### ุงูุฒูุฏู ูุธุฑ
```bash
curl -X POST http://localhost:3000/api/comments/POST_ID \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "content": "ูุธุฑ ูู"
  }'
```

## ฺฉุฏูุง ูุถุนุช HTTP

| ฺฉุฏ | ุชูุถุญ |
|----|--------|
| `200` | ููููุช ุขูุฒ |
| `201` | ุงุฌุงุฏ ุดุฏ |
| `400` | ุฏุฑุฎูุงุณุช ูุงูุนุชุจุฑ |
| `401` | ุงุญุฑุงุฒ ููุช ูุงูููู |
| `403` | ุฏุณุชุฑุณ ุบุฑูุฌุงุฒ |
| `404` | ููุจุน ุงูุช ูุดุฏ |
| `500` | ุฎุทุง ุณุฑูุฑ |

## ูุฌูุฒ

ุงู ูพุฑูฺู ุชุญุช ูุฌูุฒ ISC ููุชุดุฑ ุดุฏู ุงุณุช.

## ููุณูุฏู

Mani Alipour

---

## ๐ ุฑุงูููุง ุณุฑุน ุชูุณุนู

### ูุตุจ ู ุฑุงูโุงูุฏุงุฒ
1. ฺฉููู ฺฉุฑุฏู ูพุฑูฺู:
   ```bash
   git clone [repository-url]
   cd blog-backend
   ```

2. ูุตุจ ูุงุจุณุชฺฏโูุง:
   ```bash
   npm install
   ```

3. ุงุฌุงุฏ ูุงู `.env`:
   ```bash
   cp .env.example .env
   ```

4. ุชูุธู ูุชุบุฑูุง ูุญุท ุฏุฑ `.env`

5. ุงุฌุฑุง ูพุฑูฺู:
   ```bash
   npm run dev
   ```

### ุชุณุช API
ุจุฑุง ุชุณุช API ูโุชูุงูุฏ ุงุฒ ุงุจุฒุงุฑูุง ูุงููุฏ:
- Postman
- Thunder Client (VS Code Extension)
- curl
- HTTPie

### ุฏุงฺฉูููุช ุชฺฉูู
ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑ ููุฑุฏ ูุฑ endpointุ ุจู ูุงูโูุง ูุฑุจูุทู ุฏุฑ `src/controllers/` ูุฑุงุฌุนู ฺฉูุฏ.
